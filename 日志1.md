## 0417

### 总结

- #### git

  git的东西好杂啊，看廖雪峰的文档学习git，发现看完之后又记不得某些操作了，后来又去看了视频

  结果就是大概学会记住了一些基础的git操作，

  还没有真正使用git管理过代码，所以还待实际操作。

- #### 对象、类

  - 创建类

  - 类创建添加属性和方法

  - 类的继承

  - 跟着视频做了一遍面向对象版tab 栏切换

    大概：

    1. 获取标题元素
    2. 获取内容元素
    3. 获取删除的小按钮 x 号
    4. 定义类，添加需要的属性方法 (切换，删除，增加，修改)

    > 特别要注意的是：时刻注意 this 的指向问题！

案例全程强调this，其实听的时候一愣一愣的，之前根本就没怎么在意this的指向问题，因为一直在使用一些简单的函数，所以不需要考虑太多。

主要还是class创建类，类里面再添加方法这里，感觉是把所有的操作归类整理了一遍，需要的时候再使用

方法里面再调用方法，这个时候this就不是我们想要的this，我们可以在最开始的方法里设置`that = this`



## 0418

### 总结

#### 1. 网络方面

- `http` 相关的一些基础知识（post协议

#### 2. `js`

- 对象的三种创建

- 静态成员和实例成员

- 构造函数原型prototype

- 对象原型

- constructor构造函数

- 改变this指向 （call apply bind）

- 闭包

  > 一个函数（指的是权访问另一个函数作用域中变量的函数）

  

之前看的某个快速视频，现在跟着另外一个视频又来了一遍，发现有很多知识都是不知道的（也有可能是当时看的不够仔细吧），感觉查漏补缺了，老师声音很好听w讲的很仔细，关键是一步一步带着做案例，超级贴心了 ~



## 0419

### 总结

#### 网络方面

- ##### get、post

- ##### `ajax` 的封装

调用文章内容接口一直报错400，本来是想试用一下下封装的`ajax`，结果查阅资料修bug弄了一上午，晕菜菜了。开始怀疑是本地服务器发送请求跨域的问题，后来发现根本不是…

但是下午调用登录接口就成功了，一开心登录了两个试用账号，后来刷新再登录又显示failed——已登录？But，我还没有想过怎么退出登录啊

回过来想一想是不是当时获取文章的时候还要验证用户的登录信息呢，感觉数据传输的时候没有什么错误

此外，完善了一下静态页面，补了很久很久很久的高数离散作业，今天没有学` js`，周末over

### 下周

1. 继续完善网络知识，争取早日把用户部分完成（做梦

   cookie

   `json`

   ……

2. "`javascript`高级" 这部分视频学完

3. 解决部分bug



## 0420

### 总结

#### 1. `es6`梳理

- ##### let

  - 块级有效
  - 无变量提升
  - 暂时性死区

  所以在解决某循环闭包问题的时候，用let声明相当于产生了n个块级作用域，每个块级作用域中i的值是不同的，而输出时找的是上级的作用域，所以输出的是我们想要的结果。

  ```js
  var arr = [];
   for (let i = 0; i < 2; i++) {
       arr[i] = function () {
           console.log(i); 
       }
   }
  ```

  > 防止循环变量变成全局变量

- ##### `const`

  - 常量,不能重新进行赋值

- ##### 解构赋值

  把数据结构分解，然后给变量进行赋值

  - 数组
  - 对象

- ##### 箭头函数

  不绑定this关键字，指向的是函数定义位置的上下文this

- ##### `ES6` 的内置对象扩展

  - Array 的扩展方法
  - String 的扩展方法
  - Set 数据结构

#### 2. 解决问题

经过不断实验试错（从`ajax`到了解`cookie`到使用`axios`），终于在一个偶然发现为什么get不到后台的数据了（post可以），其实和我想的这些都没有半毛钱关系

一直把传入后台的`uesrId`和`username`搞错了。所以以前获取不到`article`的信息，还以为是服务器要通过检测啥啥啥的才能给放数据。

害，反正终于不用看见控制台的500了，可以get到用户信息了，感动。



## 0421

### 总结

#### 1. 网络

- 登录、登出、渲染部分用户信息到页面

  > 但是发现有时候登录之后，点击退出的时候返回“密码不正确”的消息，但是正常输入信息登录，再点击退出又是正常的。
  >
  > 多次点击页面的时候，数据重复出现（当时想到的是切换就创建元素，但是这样的话——切换多少次就会增加多少个元素，或许应该直接使用`innerHTML`方法覆盖原来的内容。

#### 2. 其他

感觉对pink老师有了一点依赖性，所以在学`ajax`这一块一直在b站找教程，但是pink老师没有`ajax`的课，事实上老师`es6`之后的课都没了，其他老师大部分只讲了`ajax`的封装，而且感觉课程多多少少都用了框架。

但是像文章的信息数据那么多，怎么才能合理的渲染到前端啊T T



## 0422

### 总结

- 解决多次切换个人信息页面，用户数据重复加载的BUG

- 修改信息后，部分页面重新加载（局部更新）的问题

  > 这里还有个小bug，就是刷新后会在原始数据卡顿一下再更新，待完善

- 实现渲染部分文章信息到页面（文章可以展开收缩）

  > 原版好像是初始的部分加载固定了字数，待完善

现在的思路是把文章信息一点点分类，然后循环遍历，把想要的加载到对应的位置



## 0423

### 总结

- 实现点赞文章或者取消点赞，点踩文章或者取消点踩，以及点踩的局部加载更新

  > 现在发现利用`ajax`从后端获取数据并不难，难的是获取数据后对数据的处理…
  >
  > 今天被批量加载绕的晕乎乎的，发现现在写的函数对后续文章无刷新再加载数据的处理很不友好啊



## 0424

### 总结

- 滚动条拖动到底部，克隆并添加元素，向服务器请求新的数据（未渲染

  > 请求新的数据时，发现获取数据的数组是从0开始的，但是元素的序号是接着前面的，之前没有考虑到这一点……所以如果直接用之前写的加载函数就会不匹配。

  发现切换账号的时候，账号的密码和名字在记录之后又不对了（因为退出登录会报错）

  以及切换账号的文章加载问题，总是获取不到`login.js`中的id

  另外发现控制台里并没有cookie数据，是因为请求头中的`httpOnly`的原因吗……（待解决

